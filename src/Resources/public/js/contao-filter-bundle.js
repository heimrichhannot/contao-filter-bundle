!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/public/js/",n(n.s="Xv8R")}({"3rHA":function(e,t,n){"use strict";var r=class{static getTextWithoutChildren(e,t){let n=e.clone();return n.children().remove(),void 0!==t&&!0===t?n.text():n.text().trim()}static scrollTo(e,t=0,n=0,r=!1){let i=e.getBoundingClientRect().top+window.pageYOffset-t;setTimeout(()=>{this.elementInViewport(e)&&!0!==r||("scrollBehavior"in document.documentElement.style?window.scrollTo({top:i,behavior:"smooth"}):window.scrollTo(0,i))},n)}static elementInViewport(e){let t=e.offsetTop,n=e.offsetLeft,r=e.offsetWidth,i=e.offsetHeight;for(;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,n+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+i>window.pageYOffset&&n+r>window.pageXOffset}static getAllParentNodes(e){for(var t=[];e;)t.unshift(e),e=e.parentNode;for(var n=0;n<t.length;n++)t[n]===document&&t.splice(n,1);return t}},i=n("tYjr");t.a=class{static addDynamicEventListener(e,t,n,a,o){void 0===a&&(a=document),a.addEventListener(e,(function(e){let a;i.a.isTruthy(o)?a=[e.target]:e.target!==document&&(a=r.getAllParentNodes(e.target)),Array.isArray(a)?a.reverse().forEach((function(r){r&&r.matches(t)&&n(r,e)})):document.querySelectorAll(t).forEach((function(t){n(t,e)}))}))}static createEventObject(e,t=!1,n=!1,r=!1){if("function"==typeof Event)return new Event(e,{bubbles:t,cancelable:n,composed:r});{let r=document.createEvent("Event");return r.initEvent(e,t,n),r}}}},Xv8R:function(e,t,n){"use strict";n.r(t);var r=n("g0aJ");document.addEventListener("DOMContentLoaded",r.a.init)},g0aJ:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FilterBundle}));var _hundh_contao_utils_bundle_js_event_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("3rHA"),_hundh_contao_utils_bundle_js_ajax_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("x6yN");function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var FilterBundle=function(){function FilterBundle(){_classCallCheck(this,FilterBundle)}return _createClass(FilterBundle,null,[{key:"init",value:function(){FilterBundle.registerEvents(),FilterBundle.initProximitySearch()}},{key:"initProximitySearch",value:function(){var e=document.querySelectorAll("form fieldset.proximity_search > div");e.length<1||e.forEach((function(e){var t=JSON.parse(e.getAttribute("data-proximity-search-config")),n=e.querySelector('[name="'+t.useCurrentLocationField+'"]');if(null!==n){var r=e.querySelector('[name="'+t.currentLocationHiddenField+'"]');n.addEventListener("click",(function(){n.checked?navigator.geolocation.getCurrentPosition((function(e){r.value=e.coords.latitude+","+e.coords.longitude}),(function(){r.value=""})):r.value=""}))}}))}},{key:"registerEvents",value:function(){document.addEventListener("filterAsyncSubmit",(function(e){e.preventDefault(),FilterBundle.asyncSubmit(e.detail.form)})),_hundh_contao_utils_bundle_js_event_util__WEBPACK_IMPORTED_MODULE_0__.a.addDynamicEventListener("click",'.mod_filter form [data-submit-on-change] input[type="radio"][value=""], .mod_filter form [data-submit-on-change] input[type="checkbox"][value=""]',(function(e,t){FilterBundle.resetRadioAndCheckboxField(e)})),_hundh_contao_utils_bundle_js_event_util__WEBPACK_IMPORTED_MODULE_0__.a.addDynamicEventListener("change",".mod_filter form[data-async] input[data-submit-on-change], .mod_filter form[data-async] select[data-submit-on-change], .mod_filter form[data-async] [data-submit-on-change] input",(function(e,t){t.preventDefault(),FilterBundle.initAsyncFormSubmit(e)})),_hundh_contao_utils_bundle_js_event_util__WEBPACK_IMPORTED_MODULE_0__.a.addDynamicEventListener("click",'.mod_filter form[data-async] button[type="submit"]',(function(e,t){t.preventDefault(),FilterBundle.asyncSubmit(e.form,e)})),FilterBundle.registerFormAsyncSubmitEvents(),FilterBundle.initAsyncSubmitOnInput(),document.addEventListener("filterAjaxComplete",(function(e){FilterBundle.registerFormAsyncSubmitEvents()}))}},{key:"registerFormAsyncSubmitEvents",value:function(){document.querySelectorAll('.mod_filter form[data-async] input[type="text"]').forEach((function(e){e.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),FilterBundle.asyncSubmit(e.target.form))}))}))}},{key:"initAsyncSubmitOnInput",value:function(){var e;_hundh_contao_utils_bundle_js_event_util__WEBPACK_IMPORTED_MODULE_0__.a.addDynamicEventListener("input",".mod_filter form[data-async] input[data-submit-on-input], .mod_filter form[data-async] [data-submit-on-input] input",(function(t,n){n.preventDefault(),t.dataset.threshold>t.value.length||(clearTimeout(e),e=setTimeout((function(){t.form.classList.add("keep-form"),FilterBundle.initAsyncFormSubmit(t)}),t.dataset.debounce))})),_hundh_contao_utils_bundle_js_event_util__WEBPACK_IMPORTED_MODULE_0__.a.addDynamicEventListener("focusout",".mod_filter form[data-async] input[data-submit-on-input], .mod_filter form[data-async] [data-submit-on-input] input",(function(e,t){e.form.classList.remove("keep-form")}))}},{key:"initAsyncFormSubmit",value:function(e){var t=document.createElement("div");t.setAttribute("name",e.form.name+"[submit]"),FilterBundle.asyncSubmit(e.form,t)}},{key:"asyncSubmit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.getAttribute("method"),r=e.getAttribute("action"),i=FilterBundle.getData(e),a=FilterBundle.getConfig(e);null!==t&&i.append(t.getAttribute("name"),""),"get"===n||"GET"===n?_hundh_contao_utils_bundle_js_ajax_util__WEBPACK_IMPORTED_MODULE_1__.a.get(r,i,a):_hundh_contao_utils_bundle_js_ajax_util__WEBPACK_IMPORTED_MODULE_1__.a.post(r,i,a)}},{key:"getConfig",value:function(e){return{onSuccess:FilterBundle.onSuccess,beforeSubmit:FilterBundle.beforeSubmit,afterSubmit:FilterBundle.afterSubmit,form:e}}},{key:"onSuccess",value:function(e){var t="undefined"!==e.response?JSON.parse(e.response):null;if(null!==t)if("undefined"!==t.filterName)if("undefined"!==t.filter){var n=document.querySelector('form[name="'+t.filterName+'"]');n.classList.contains("keep-form")||FilterBundle.replaceFilterForm(n,t.filter),n.setAttribute("data-response",e.response),n.setAttribute("data-submit-success",1),n.dispatchEvent(new CustomEvent("filterAjaxComplete",{detail:n,bubbles:!0,cancelable:!0}))}else console.log("Error","Es wurde kein Filter zurÃ¼ck geliefert.");else console.log("Error","Es wurde kein Filtername gesetzt.")}},{key:"beforeSubmit",value:function(e,t,n){var r=n.form,i=document.querySelector(r.getAttribute("data-list"));r.setAttribute("data-submit-success",0),r.setAttribute("data-response",""),r.querySelectorAll('input:not(.disabled):not([data-submit-on-input="1"]):not([type="hidden"]), button[type="submit"]').forEach((function(e){e.disabled=!0})),r.classList.add("submitting"),null!==i&&i.classList.add("updating")}},{key:"afterSubmit",value:function(e,t,n){var r=n.form;r.querySelectorAll("[disabled]").forEach((function(e){e.disabled=!1})),r.classList.remove("submitting")}},{key:"getData",value:function(e){var t=new FormData(e);return t.append("filterName",e.getAttribute("name")),t}},{key:"replaceFilterForm",value:function replaceFilterForm(form,filter){form.innerHTML=filter,form.querySelectorAll("script").forEach((function(script){try{eval(script.innerHTML||script.innerText)}catch(e){}}))}},{key:"resetRadioAndCheckboxField",value:function(e){var t=e.closest("[data-choices]"),n=e.closest("form");t.querySelectorAll("input:checked").forEach((function(e){e.checked=!1})),FilterBundle.asyncSubmit(n)}}]),FilterBundle}()},tYjr:function(e,t,n){"use strict";t.a=class{static isTruthy(e){return null!=e}static call(e){"function"==typeof e&&e.apply(this,Array.prototype.slice.call(arguments,1))}}},x6yN:function(e,t,n){"use strict";var r=n("tYjr");var i=class{static getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");let n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}static addParameterToUri(e,t,n){e||(e=window.location.href);let r,i=new RegExp("([?&])"+t+"=.*?(&|#|$)(.*)","gi");if(i.test(e))return null!=n?e.replace(i,"$1"+t+"="+n+"$2$3"):(r=e.split("#"),e=r[0].replace(i,"$1$3").replace(/(&|\?)$/,""),void 0!==r[1]&&null!==r[1]&&(e+="#"+r[1]),e);if(null!=n){let i=-1!==e.indexOf("?")?"&":"?";return r=e.split("#"),e=r[0]+i+t+"="+n,void 0!==r[1]&&null!==r[1]&&(e+="#"+r[1]),e}return e}static addParametersToUri(e,t){if(t instanceof FormData)for(let n of t.entries())t.has(n[0])&&(e=this.addParameterToUri(e,n[0],n[1]));else for(let n in t)t.hasOwnProperty(n)&&(e=this.addParameterToUri(e,n,t[n]));return e}static removeParameterFromUri(e,t){let n=e.split("?");if(n.length>=2){let r=encodeURIComponent(t)+"=",i=n[1].split(/[&;]/g);for(let e=i.length;e-- >0;)-1!==i[e].lastIndexOf(r,0)&&i.splice(e,1);return e=n[0]+"?"+i.join("&")}return e}static removeParametersFromUri(e,t){for(let n in t)t.hasOwnProperty(n)&&(e=this.removeParameterFromUri(e,n));return e}static replaceParameterInUri(e,t,n){this.addParameterToUri(this.removeParameterFromUri(e,t),t,n)}static parseQueryString(e){return JSON.parse('{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}static buildQueryString(e){let t="";for(let n in e)""!==t&&(t+="&"),t+=n+"="+e[n];return t}};class a{static get(e,t,n){n=a.setDefaults(n);let r=a.initializeRequest("GET",i.addParametersToUri(e,t),n),o={config:n,action:e,data:t};a.doAjaxSubmit(r,o)}static post(e,t,n){n=a.setDefaults(n);let r=a.initializeRequest("POST",e,n),i={config:n,action:e,data:t};a.doAjaxSubmit(r,i)}static doAjaxSubmit(e,t){let n=t.config;e.onload=function(){e.status>=200&&e.status<400?r.a.call(n.onSuccess,e):r.a.call(n.onError,e),r.a.call(n.afterSubmit,t.action,t.data,n)},r.a.call(n.beforeSubmit,t.action,t.data,n),void 0===t.data?e.send():(t.data=a.prepareDataForSend(t.data),e.send(t.data))}static prepareDataForSend(e){if(!(e instanceof FormData)){let t=new FormData;return Object.keys(e).forEach(n=>{t.append(n,e[n])}),t}return e}static initializeRequest(e,t,n){let r=new XMLHttpRequest;return r.open(e,t,!0),r=a.setRequestHeaders(r,n),n.hasOwnProperty("responseType")&&(r.responseType=n.responseType),r}static setRequestHeaders(e,t){return t.hasOwnProperty("headers")&&Object.keys(t.headers).forEach(n=>{e.setRequestHeader(n,t.headers[n])}),e}static setDefaults(e){return e.hasOwnProperty("headers")||(e.headers={"X-Requested-With":"XMLHttpRequest"}),e}}t.a=a}});