!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/public/js/",r(r.s="Xv8R")}({"3rHA":function(e,t,r){"use strict";var n=class{static getTextWithoutChildren(e,t){let r=e.clone();return r.children().remove(),void 0!==t&&!0===t?r.text():r.text().trim()}static scrollTo(e,t=0,r=0,n=!1){let a=e.getBoundingClientRect().top+window.pageYOffset-t;setTimeout(()=>{this.elementInViewport(e)&&!0!==n||("scrollBehavior"in document.documentElement.style?window.scrollTo({top:a,behavior:"smooth"}):window.scrollTo(0,a))},r)}static elementInViewport(e){let t=e.offsetTop,r=e.offsetLeft,n=e.offsetWidth,a=e.offsetHeight;for(;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,r+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&r<window.pageXOffset+window.innerWidth&&t+a>window.pageYOffset&&r+n>window.pageXOffset}static getAllParentNodes(e){for(var t=[];e;)t.unshift(e),e=e.parentNode;for(var r=0;r<t.length;r++)t[r]===document&&t.splice(r,1);return t}},a=r("tYjr");t.a=class{static addDynamicEventListener(e,t,r,i,o){void 0===i&&(i=document),i.addEventListener(e,(function(e){let i;a.a.isTruthy(o)?i=[e.target]:e.target!==document&&(i=n.getAllParentNodes(e.target)),Array.isArray(i)?i.reverse().forEach((function(n){n&&n.matches(t)&&r(n,e)})):document.querySelectorAll(t).forEach((function(t){r(t,e)}))}))}static createEventObject(e,t=!1,r=!1,n=!1){if("function"==typeof Event)return new Event(e,{bubbles:t,cancelable:r,composed:n});{let n=document.createEvent("Event");return n.initEvent(e,t,r),n}}}},Xv8R:function(e,t,r){"use strict";r.r(t);var n=r("g0aJ");document.addEventListener("DOMContentLoaded",n.a.init)},g0aJ:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FilterBundle}));var _hundh_contao_utils_bundle_js_event_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("3rHA"),_hundh_contao_utils_bundle_js_ajax_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("x6yN");function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var FilterBundle=function(){function FilterBundle(){_classCallCheck(this,FilterBundle)}return _createClass(FilterBundle,null,[{key:"init",value:function(){FilterBundle.registerEvents(),FilterBundle.initProximitySearch()}},{key:"initProximitySearch",value:function(){var e=document.querySelectorAll("form fieldset.proximity_search > div");e.length<1||e.forEach((function(e){var t=JSON.parse(e.getAttribute("data-proximity-search-config")),r=e.querySelector('[name="'+t.useCurrentLocationField+'"]');if(null!==r){var n=e.querySelector('[name="'+t.currentLocationHiddenField+'"]');r.addEventListener("click",(function(){r.checked?navigator.geolocation.getCurrentPosition((function(e){n.value=e.coords.latitude+","+e.coords.longitude}),(function(){n.value=""})):n.value=""}))}}))}},{key:"registerEvents",value:function(){document.addEventListener("filterAsyncSubmit",(function(e){e.preventDefault(),FilterBundle.asyncSubmit(e.detail.form)})),_hundh_contao_utils_bundle_js_event_util__WEBPACK_IMPORTED_MODULE_0__.a.addDynamicEventListener("click",'.mod_filter form [data-submit-on-change] input[type="radio"][value=""], .mod_filter form [data-submit-on-change] input[type="checkbox"][value=""]',(function(e,t){FilterBundle.resetRadioAndCheckboxField(e)})),_hundh_contao_utils_bundle_js_event_util__WEBPACK_IMPORTED_MODULE_0__.a.addDynamicEventListener("change",".mod_filter form[data-async] input[data-submit-on-change], .mod_filter form[data-async] select[data-submit-on-change], .mod_filter form[data-async] [data-submit-on-change] input",(function(e,t){t.preventDefault();var r=e.form.name+"[submit]",n=document.createElement("div");n.setAttribute("name",r),FilterBundle.asyncSubmit(e.form,n)})),_hundh_contao_utils_bundle_js_event_util__WEBPACK_IMPORTED_MODULE_0__.a.addDynamicEventListener("click",'.mod_filter form[data-async] button[type="submit"]',(function(e,t){t.preventDefault(),FilterBundle.asyncSubmit(e.form,e)}))}},{key:"asyncSubmit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.getAttribute("method"),n=e.getAttribute("action"),a=FilterBundle.getData(e),i=FilterBundle.getConfig(e);null!==t&&a.append(t.getAttribute("name"),""),"get"===r||"GET"===r?_hundh_contao_utils_bundle_js_ajax_util__WEBPACK_IMPORTED_MODULE_1__.a.get(n,a,i):_hundh_contao_utils_bundle_js_ajax_util__WEBPACK_IMPORTED_MODULE_1__.a.post(n,a,i)}},{key:"getConfig",value:function(e){return{onSuccess:FilterBundle.onSuccess,beforeSubmit:FilterBundle.beforeSubmit,afterSubmit:FilterBundle.afterSubmit,form:e}}},{key:"onSuccess",value:function(e){var t="undefined"!==e.response?JSON.parse(e.response):null;if(null!==t)if("undefined"!==t.filterName)if("undefined"!==t.filter){var r=document.querySelector('form[name="'+t.filterName+'"]');FilterBundle.replaceFilterForm(r,t.filter),r.setAttribute("data-response",e.response),r.setAttribute("data-submit-success",1),r.dispatchEvent(new CustomEvent("filterAjaxComplete",{detail:r,bubbles:!0,cancelable:!0}))}else console.log("Error","Es wurde kein Filter zur√ºck geliefert.");else console.log("Error","Es wurde kein Filtername gesetzt.")}},{key:"beforeSubmit",value:function(e,t,r){var n=r.form,a=document.querySelector(n.getAttribute("data-list"));n.setAttribute("data-submit-success",0),n.setAttribute("data-response",""),n.querySelectorAll('input:not(.disabled), button[type="submit"]').forEach((function(e){e.disabled=!0})),n.classList.add("submitting"),a.classList.add("updating")}},{key:"afterSubmit",value:function(e,t,r){var n=r.form;n.querySelectorAll("[disabled]").forEach((function(e){e.disabled=!1})),n.classList.remove("submitting")}},{key:"getData",value:function(e){var t=new FormData(e);return t.append("filterName",e.getAttribute("name")),t}},{key:"replaceFilterForm",value:function replaceFilterForm(form,filter){form.innerHTML=filter,form.querySelectorAll("script").forEach((function(script){try{eval(script.innerHTML||script.innerText)}catch(e){}}))}},{key:"resetRadioAndCheckboxField",value:function(e){var t=e.closest("[data-choices]"),r=e.closest("form");t.querySelectorAll("input:checked").forEach((function(e){e.checked=!1})),FilterBundle.asyncSubmit(r)}}]),FilterBundle}()},tYjr:function(e,t,r){"use strict";class n{static isTruthy(e){return null!=e}static call(e){"function"==typeof e&&e.apply(this,Array.prototype.slice.call(arguments,1))}static runRecursiveFunction(e,t,r,a){t.length<1?n.isTruthy(r)&&Array.isArray(r)?n.call(r[a]):n.call(r):e(t[0],t.slice(1,t.length),r)}}t.a=n},x6yN:function(e,t,r){"use strict";var n=r("tYjr");var a=class{static getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");let r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}static addParameterToUri(e,t,r){e||(e=window.location.href);let n,a=new RegExp("([?&])"+t+"=.*?(&|#|$)(.*)","gi");if(a.test(e))return null!=r?e.replace(a,"$1"+t+"="+r+"$2$3"):(n=e.split("#"),e=n[0].replace(a,"$1$3").replace(/(&|\?)$/,""),void 0!==n[1]&&null!==n[1]&&(e+="#"+n[1]),e);if(null!=r){let a=-1!==e.indexOf("?")?"&":"?";return n=e.split("#"),e=n[0]+a+t+"="+r,void 0!==n[1]&&null!==n[1]&&(e+="#"+n[1]),e}return e}static addParametersToUri(e,t){if(t instanceof FormData)for(let r of t.entries())t.has(r[0])&&(e=this.addParameterToUri(e,r[0],r[1]));else for(let r in t)t.hasOwnProperty(r)&&(e=this.addParameterToUri(e,r,t[r]));return e}static removeParameterFromUri(e,t){let r=e.split("?");if(r.length>=2){let n=encodeURIComponent(t)+"=",a=r[1].split(/[&;]/g);for(let e=a.length;e-- >0;)-1!==a[e].lastIndexOf(n,0)&&a.splice(e,1);return e=r[0]+"?"+a.join("&")}return e}static removeParametersFromUri(e,t){for(let r in t)t.hasOwnProperty(r)&&(e=this.removeParameterFromUri(e,r));return e}static replaceParameterInUri(e,t,r){this.addParameterToUri(this.removeParameterFromUri(e,t),t,r)}static parseQueryString(e){return JSON.parse('{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}static buildQueryString(e){let t="";for(let r in e)""!==t&&(t+="&"),t+=r+"="+e[r];return t}};class i{static get(e,t,r){r=i.setDefaults(r);let n=i.initializeRequest("GET",a.addParametersToUri(e,t),r),o={config:r,action:e,data:t};i.doAjaxSubmit(n,o)}static post(e,t,r){r=i.setDefaults(r);let n=i.initializeRequest("POST",e,r),a={config:r,action:e,data:t};i.doAjaxSubmit(n,a)}static doAjaxSubmit(e,t){let r=t.config;e.onload=function(){e.status>=200&&e.status<400?n.a.call(r.onSuccess,e):n.a.call(r.onError,e),n.a.call(r.afterSubmit,t.action,t.data,r)},n.a.call(r.beforeSubmit,t.action,t.data,r),void 0===t.data?e.send():(t.data=i.prepareDataForSend(t.data),e.send(t.data))}static prepareDataForSend(e){if(!(e instanceof FormData)){let t=new FormData;return Object.keys(e).forEach(r=>{t.append(r,e[r])}),t}return e}static initializeRequest(e,t,r){let n=new XMLHttpRequest;return n.open(e,t,!0),n=i.setRequestHeaders(n,r),r.hasOwnProperty("responseType")&&(n.responseType=r.responseType),n}static setRequestHeaders(e,t){return t.hasOwnProperty("headers")&&Object.keys(t.headers).forEach(r=>{e.setRequestHeader(r,t.headers[r])}),e}static setDefaults(e){return e.hasOwnProperty("headers")||(e.headers={"X-Requested-With":"XMLHttpRequest"}),e}}t.a=i}});